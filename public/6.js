(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{443:function(e,t,r){"use strict";r.r(t);var s=r(49),a=function(e){return new Promise((function(t,r){axios.get("periodos/".concat(e.id,"/prestadores")).then((function(e){t(e.data)}),(function(e){r(e.data)}))}))},o={name:"Prestadores",components:{},mounted:function(){this.vigencia=JSON.parse(sessionStorage.getItem("datosVigencia")),this.periodo=JSON.parse(sessionStorage.getItem("datosPeriodo")),this.cargarListado()},data:function(){return{loading:!0,page:1,pageCount:0,itemsPerPage:10,itemsPerPageArray:[10,20,50,100,"Todo"],search:"",filter:{},sortDesc:!1,sortBy:"nombre",keys:["Nombre","Tipo","Estado"],vigencia:{},periodo:{},modalFormulario:!1,botonGuardar:!0,pasoFormulario:1,editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},headers:[{text:"Consecutivo",value:"id",align:"center",sortable:!1},{text:"CÓDIGO",value:"migracion_id",align:"center",sortable:!1},{text:"Nombre",value:"nombre",sortable:!1},{text:"Tipo",value:"tipo_prestador_id",sortable:!1},{text:"Estado",value:"estado",align:"center",sortable:!1}],prestadores:[]}},computed:{numberOfPages:function(){return Math.ceil(this.prestadores.length/(-1===this.itemsPerPage?this.prestadores.length:this.itemsPerPage))},total:function(){return this.prestadores.length},filteredKeys:function(){return this.keys.filter((function(e){return"Nombre"!==e}))}},watch:{dialog:function(e){e||this.close()}},methods:{nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.page=1,this.itemsPerPage="Todo"===e?-1:e},cargarListado:function(){var e=this;this.loading=!0,a(this.periodo).then((function(t){e.loading=!1,"success"===t.status?(e.prestadores=t.data,console.log(e.prestadores)):console.log(t)}))},getColor:function(e){var t="gray";switch(e){case"Pendiente":t="orange";break;case"Reportado":t="green";break;case"Incompleto":t="lime";break;case"En proceso":t="blue";break;case"Sin reporte":t="red"}return t},irListadoPuntosAtencion:function(e){sessionStorage.setItem("datosPrestador",JSON.stringify(e)),s.a.push({name:"gestion-vigencias-prestadores-listado-puntos-atencion"})},irListadoUsuarios:function(e){sessionStorage.setItem("datosPrestador",JSON.stringify(e)),s.a.push({name:"gestion-vigencias-prestadores-listado-usuarios"})}}},i=r(12),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-app",{attrs:{id:"inspire"}},[r("CCard",[r("CCardBody",[r("CRow",[r("CCol",{attrs:{sm:"5"}},[r("h4",{staticClass:"card-title mb-0"},[e._v("Prestadores")]),e._v(" "),r("div",{staticClass:"small text-muted"},[e._v("Listado")])])],1),e._v(" "),r("CRow",[r("CCol",{attrs:{sm:"12"}},[r("v-toolbar",{staticClass:"mb-1",attrs:{color:"blue-grey lighten-5"}},[r("v-text-field",{attrs:{"prepend-inner-icon":"mdi-office-building",label:"Buscar prestador","hide-details":"",clearable:"",solo:"",flat:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),e.$vuetify.breakpoint.mdAndUp?[r("v-spacer"),e._v(" "),r("v-select",{attrs:{"prepend-inner-icon":"mdi-sort",label:"Ordenar por",items:e.keys,"hide-details":"",solo:"",flat:""},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn-toggle",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{mandatory:""},model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[r("v-btn",{attrs:{large:"",depressed:"",color:"blue-grey lighten-1",value:!1}},[r("v-icon",[e._v("mdi-arrow-up")])],1),e._v(" "),r("v-btn",{attrs:{large:"",depressed:"",color:"blue-grey lighten-1",value:!0}},[r("v-icon",[e._v("mdi-arrow-down")])],1)],1)]:e._e()],2),e._v(" "),r("br"),e._v(" "),r("v-alert",{attrs:{color:"blue-grey lighten-1",dark:"",icon:"mdi-office-building",prominent:""}},[e._v("\n              Periodo:\n              "),r("strong",[e._v("\n                "+e._s(e.periodo.mes?e.periodo.mes.valor_texto:"")+"\n                "+e._s(e.vigencia.nombre)+"\n              ")])]),e._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,page:e.page,"items-per-page":e.itemsPerPage,items:e.prestadores,"sort-by":"tipo"===e.sortBy.toLowerCase()?"tipo_prestador.descripcion":e.sortBy.toLowerCase(),"sort-desc":e.sortDesc,search:e.search,"hide-default-footer":""},on:{"update:page":function(t){e.page=t},"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t}},scopedSlots:e._u([{key:"header.id",fn:function(t){var r=t.header;return[e._v(e._s(r.text.toUpperCase()))]}},{key:"header.tipo_prestador_id",fn:function(t){var r=t.header;return[e._v(e._s(r.text.toUpperCase()))]}},{key:"header.migracion_id",fn:function(t){var r=t.header;return[e._v(e._s(r.text.toUpperCase()))]}},{key:"header.nombre",fn:function(t){var r=t.header;return[e._v(e._s(r.text.toUpperCase()))]}},{key:"header.estado",fn:function(t){var r=t.header;return[e._v(e._s(r.text.toUpperCase()))]}},{key:"item",fn:function(t){var s=t.item,a=t.index;return[r("tr",[r("td",{staticClass:"text-center"},[e._v("\n                    "+e._s(a+1+10*(e.page-1))+"\n                  ")]),e._v(" "),r("td",{staticClass:"text-center"},[e._v(e._s(s.migracion_id))]),e._v(" "),r("td",[e._v(e._s(s.nombre.toUpperCase()))]),e._v(" "),r("td",[e._v(e._s(s.tipo_prestador.descripcion.toUpperCase()))]),e._v(" "),r("td",{staticClass:"text-center"},[r("v-menu",{attrs:{bottom:"",origin:"center center",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-chip",e._g(e._b({attrs:{color:e.getColor(s.estado),dark:""}},"v-chip",o,!1),a),[e._v(e._s(s.estado))])]}}],null,!0)},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:function(t){return e.irListadoPuntosAtencion(s)}}},[r("v-list-item-title",[r("v-btn",{attrs:{small:"",text:""}},[e._v("Gestión Puntos de atención")])],1)],1),e._v(" "),e.is("ROLE_ADMINISTRADOR")?r("v-list-item",{on:{click:function(t){return e.irListadoUsuarios(s)}}},[r("v-list-item-title",[r("v-btn",{attrs:{small:"",text:""}},[e._v("Gestión Usuarios")])],1)],1):e._e()],1)],1)],1)])]}},{key:"no-data",fn:function(){return[e.loading?r("div",[r("v-text-field",{attrs:{color:"success",loading:"",disabled:""}}),e._v(" "),r("small",[e._v("\n                    Cargando listado de prestadores, por favor espere...\n                    "),r("br"),e._v(" "),r("br")])],1):e._e(),e._v(" "),e.loading?e._e():r("div",[r("br"),e._v(" "),r("br"),e._v("No tiene información registrada.\n                  "),r("br"),e._v(" "),r("br"),e._v(" "),r("v-btn",{attrs:{color:"warning"},on:{click:function(t){return e.cargarListado()}}},[e._v("Recargar")]),e._v(" "),r("br"),e._v(" "),r("br")],1)]},proxy:!0}],null,!0)}),e._v(" "),r("v-row",{staticClass:"mt-2",attrs:{align:"center",justify:"center"}},[r("span",{staticClass:"grey--text"},[e._v("Registros por página")]),e._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"ml-2",attrs:{dark:"",text:"",color:"blue-grey lighten-1"}},"v-btn",a,!1),s),[e._v("\n                    "+e._s(-1===e.itemsPerPage?"Todo":e.itemsPerPage)+"\n                    "),r("v-icon",[e._v("mdi-chevron-down")])],1)]}}])},[e._v(" "),r("v-list",e._l(e.itemsPerPageArray,(function(t,s){return r("v-list-item",{key:s,on:{click:function(r){return e.updateItemsPerPage(t)}}},[r("v-list-item-title",[e._v(e._s(t))])],1)})),1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("span",{staticClass:"mr-4 grey--text"},[e._v("Mostrando registros del\n                "+e._s(1+(e.page-1)*e.itemsPerPage)+" al\n                "+e._s(-1===e.itemsPerPage?e.total:e.total>(e.page-1)*e.itemsPerPage+e.itemsPerPage?(e.page-1)*e.itemsPerPage+e.itemsPerPage:e.total)+"\n                de un total de "+e._s(e.total))]),e._v(" "),r("v-spacer"),e._v(" "),r("span",{staticClass:"mr-4 grey--text"},[e._v("Página "+e._s(e.page)+" de "+e._s(e.numberOfPages))]),e._v(" "),r("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",color:"blue-grey lighten-1"},on:{click:e.formerPage}},[r("v-icon",[e._v("mdi-chevron-left")])],1),e._v(" "),r("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",color:"blue-grey lighten-1"},on:{click:e.nextPage}},[r("v-icon",[e._v("mdi-chevron-right")])],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports}}]);
//# sourceMappingURL=6.js.map